const e={key:"39260371-83ef64e0aa197167fe58dcdf0",perpage:"40",image_type:"photo",orientation:"horizontal",safesearch:"true"};async function t({q:t="",page:a="1"}){try{const o=new URLSearchParams({...e,page:a,q:t}),n=await fetch(`https://pixabay.com/api?${o}`);if(!n.ok)return 400===n.status?[]:{error:n.status};const{hits:r}=await n.json();return r}catch(e){return{error:e.toString()}}}const a=e=>{const t=document.createElement("img");return t.classList.add("photo"),t.src=e.webformatURL,t};async function o({q:e,page:o}){const n=await t({q:e,page:o});n.error?alert(n.error):function({photos:e,page:t}){const o=document.querySelector("#photos");"1"===t&&(o.innerHTML="");const n=e.map(a);o.append(...n)}({photos:n,page:o})}async function n(){const{scrollTop:e,scrollHeight:t,clientHeight:a}=document.documentElement;if(e+a>=t){const e=document.querySelector("#searchPhotosForm"),t=parseInt(e.page.value);e.page.value=t+1,await o({q:e.q.value,page:e.page.value})}}const r=document.querySelector("#searchPhotosForm");r.addEventListener("submit",(async function(e){e.preventDefault(),e.target.page.value="1";const t=e.target.q.value;await o({q:t,page:"1"})})),r.dispatchEvent(new Event("submit")),n(),window.addEventListener("scroll",n);document.querySelectorAll(".image").forEach((e=>{e.addEventListener("mouseenter",(()=>{e.style.transform="scale(1.2)"})),e.addEventListener("mouseleave",(()=>{e.style.transform="scale(1)"}))}));
//# sourceMappingURL=index.a4975702.js.map
